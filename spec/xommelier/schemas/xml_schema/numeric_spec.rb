require 'spec_helper'

describe XmlSchema::Decimal do
  it_behaves_like 'Simple Type',
    deserializes: {
      '-1.23' => -1.23,
      '12678967.543233' => 12678967.543233,
      '+100000.00' => 100000.0,
      '210' => 210,
    },
    serializes: {
      '-1.23' => '-1.23',
      '+100000.00' => '100000.0',
      '210' => '210',
      12678967.543233 => '12678967.543233',
    }
end

describe XmlSchema::Integer do
  it_behaves_like 'Simple Type',
    deserializes: {
      '-1' => -1,
      '12678967' => 12678967,
      '+100000' => 100000,
      '210' => 210,
    },
    serializes: {
      '210' => '210',
      '-1' => '-1',
      '+100000' => '100000',
      12678967 => '12678967',
      12678967.543233 => '12678967',
    }
end

describe XmlSchema::Float do
  it_behaves_like 'Simple Type',
    deserializes: {
      '-1' => -1.0,
      '12678967' => 12678967.0,
      '+100000' => 100000.0,
      '210' => 210.0,
      '-1E4' => -1E4,
      '1267.43233E12' => 1267.43233E12,
      '12.78e-2' => 12.78e-2,
      '12' => 12.0,
      '-0' => -0.0,
      '0' => 0.0,
      'INF' => XmlSchema::Float::Infinity,
    },
    serializes: {
      '210' => '210.0',
      '-1' => '-1.0',
      '+100000' => '100000.0',
      12678967 => '12678967.0',
      12678967.543233 => '12678967.543233',
      -1E4 => '-10000.0',
      1267.43233E12 => '1267432330000000.0',
      12.78e-2 => '0.1278',
      12 => '12.0',
      -0 => '-0.0',
      0 => '0.0',
      XmlSchema::Float::Infinity => 'INF',
    }
end

describe XmlSchema::Double do
  it_behaves_like 'Simple Type',
    deserializes: {
      '-1' => -1.0,
      '12678967' => 12678967.0,
      '+100000' => 100000.0,
      '210' => 210.0,
      '-1E4' => -1E4,
      '1267.43233E12' => 1267.43233E12,
      '12.78e-2' => 12.78e-2,
      '12' => 12.0,
      '-0' => -0.0,
      '0' => 0.0,
      'INF' => XmlSchema::Float::Infinity,
    },
    serializes: {
      '210' => '210.0',
      '-1' => '-1.0',
      '+100000' => '100000.0',
      12678967 => '12678967.0',
      12678967.543233 => '12678967.543233',
      -1E4 => '-10000.0',
      1267.43233E12 => '1267432330000000.0',
      12.78e-2 => '0.1278',
      12 => '12.0',
      -0 => '-0.0',
      0 => '0.0',
      XmlSchema::Float::Infinity => 'INF',
    }
end
